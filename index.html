<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lev's Birthday Weekend ‚Äì Portland 2025</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #1a0a28;
      --bg-alt: #2a1640;
      --card: #3d1f52;
      --accent: #4ade80;
      --accent-soft: rgba(74, 222, 128, 0.18);
      --accent-strong: #22c55e;
      --text-main: #f9fafb;
      --text-muted: #d4c5e6;
      --border-subtle: rgba(168, 85, 247, 0.4);
      --danger: #fb7185;
      --shadow-soft: 0 18px 40px rgba(26, 10, 40, 0.9);
      --radius-lg: 18px;
      --radius-pill: 999px;
      --maroon: #6b2240;
      --navy: #1e1b4b;
      --purple: #581c87;
      --green-highlight: #34d399;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
      background:
        radial-gradient(circle at top, var(--maroon) 0, var(--navy) 45%, #000 100%);
      color: var(--text-main);
      min-height: 100vh;
      padding: 32px 16px 40px;
      display: flex;
      justify-content: center;
    }

    .page {
      width: 100%;
      max-width: 980px;
      background: linear-gradient(135deg, #0a0415 0%, #1a0a28 40%, #0f0820 100%);
      border-radius: 28px;
      border: 1px solid rgba(139, 92, 246, 0.4);
      box-shadow: var(--shadow-soft);
      overflow: hidden;
      position: relative;
    }

    .page::before {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      background:
        radial-gradient(circle at 8% 0%, rgba(52, 211, 153, 0.15) 0, transparent 55%),
        radial-gradient(circle at 100% 10%, rgba(34, 197, 94, 0.12) 0, transparent 50%);
      mix-blend-mode: screen;
    }

    .inner {
      position: relative;
      padding: 28px 22px 30px;
    }

    @media (min-width: 768px) {
      body { padding: 40px 24px; }
      .inner { padding: 32px 32px 34px; }
    }

    header {
      display: grid;
      gap: 20px;
      margin-bottom: 24px;
    }

    @media (min-width: 768px) {
      header {
        grid-template-columns: 1fr 360px;
        gap: 24px;
        align-items: start;
      }
    }

    .title-block {
      min-width: 0;
    }

    .left-column {
      display: grid;
      gap: 12px;
    }

    .right-column {
      display: none;
    }

    @media (min-width: 768px) {
      .right-column {
        display: block;
      }
    }

    .eyebrow {
      font-size: 11px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--text-muted);
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 6px;
    }

    .pill-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: var(--accent-strong);
      box-shadow: 0 0 12px rgba(34, 197, 94, 0.8);
    }

    h1 {
      font-size: clamp(28px, 4vw + 16px, 42px);
      line-height: 1.1;
      font-weight: 700;
      letter-spacing: -0.01em;
      margin-bottom: 6px;
    }

    .subtitle {
      font-size: 14px;
      color: var(--text-muted);
    }

    .meta {
      background: rgba(88, 28, 135, 0.3);
      border-radius: 18px;
      padding: 14px 16px;
      border: 1px solid rgba(139, 92, 246, 0.5);
      display: grid;
      gap: 10px;
      max-width: 100%;
      font-size: 12px;
    }

    .meta-row {
      display: grid;
      gap: 4px;
    }

    .meta-label {
      text-transform: uppercase;
      letter-spacing: 0.11em;
      font-size: 10px;
      color: var(--text-muted);
    }

    .meta-value {
      font-weight: 500;
    }

    .meta-value strong {
      color: var(--accent);
      font-weight: 600;
    }

    .meta-value a {
      color: var(--accent);
      text-decoration: none;
      transition: color 0.2s ease;
    }

    .meta-value a:hover {
      color: var(--accent-strong);
      text-decoration: underline;
    }

    .map-button {
      margin-top: 12px;
      padding: 14px 18px;
      border-radius: 14px;
      background: linear-gradient(135deg, rgba(52, 211, 153, 0.25), rgba(16, 185, 129, 0.15));
      border: 2px solid rgba(52, 211, 153, 0.7);
      color: var(--text-main);
      text-decoration: none;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      transition: all 0.2s ease;
      cursor: pointer;
    }

    .map-button:hover {
      background: linear-gradient(135deg, rgba(52, 211, 153, 0.35), rgba(16, 185, 129, 0.25));
      border-color: rgba(52, 211, 153, 0.9);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(52, 211, 153, 0.3);
    }

    .map-button-content {
      flex: 1;
    }

    .map-button-title {
      font-size: 13px;
      font-weight: 600;
      color: var(--accent);
      margin-bottom: 2px;
    }

    .map-button-subtitle {
      font-size: 11px;
      color: var(--text-muted);
    }

    .map-button-icon {
      font-size: 24px;
      opacity: 0.8;
    }

    .sticky-note {
      margin-top: 12px;
      padding: 10px 14px;
      border-radius: 12px;
      border: 1px solid rgba(139, 92, 246, 0.4);
      background: rgba(42, 22, 64, 0.4);
      font-size: 12px;
      color: var(--text-muted);
      max-width: 520px;
    }

    .sticky-note strong {
      color: #a7f3d0;
      font-weight: 600;
    }

    .itinerary-summary {
      padding: 18px 20px;
      border-radius: 18px;
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(5, 150, 105, 0.1));
      border: 2px solid rgba(52, 211, 153, 0.6);
      display: none;
    }

    .itinerary-summary.has-items {
      display: block;
    }

    .itinerary-summary-title {
      font-size: 14px;
      font-weight: 700;
      color: var(--text-main);
      margin-bottom: 14px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .itinerary-list {
      list-style: none;
      display: grid;
      gap: 6px;
      font-size: 13px;
      color: var(--text-main);
    }

    .itinerary-list li {
      display: flex;
      gap: 8px;
      align-items: baseline;
    }

    .itinerary-list li.day-header {
      font-weight: 700;
      font-size: 18px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--accent);
      margin-top: 16px;
      padding-bottom: 8px;
      border-bottom: none;
    }

    .itinerary-list li.day-header:first-child {
      margin-top: 0;
    }

    .itinerary-time {
      color: var(--green-highlight);
      font-weight: 500;
      min-width: 80px;
    }

    .itinerary-item {
      color: #d1fae5;
    }

    .section {
      margin-top: 26px;
      padding-top: 4px;
      border-top: 1px solid rgba(139, 92, 246, 0.3);
    }

    .section > .section-header {
      margin-bottom: 16px;
    }

    .section > .section-header .section-title {
      font-size: 18px;
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--text-main);
      margin-bottom: 8px;
    }

    .section > .section-header .section-subtitle {
      font-size: 13px;
      color: var(--text-muted);
      max-width: 600px;
    }

    .day-section-header {
      font-size: clamp(28px, 4vw + 16px, 42px);
      line-height: 1.1;
      font-weight: 700;
      letter-spacing: -0.01em;
      margin-bottom: 10px;
      color: var(--text-main);
      margin-top: 24px;
    }

    .day-section-header:first-of-type {
      margin-top: 18px;
    }

    .section-header {
      margin-bottom: 12px;
    }

    .section-title {
      font-size: 13px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--text-muted);
      font-weight: 600;
    }

    .section-subtitle {
      font-size: 12px;
      color: var(--text-muted);
    }

    .section-subtitle strong {
      color: var(--accent);
      font-weight: 500;
    }

    .timeline {
      display: grid;
      gap: 10px;
      font-size: 13px;
    }

    .timeline-row {
      display: grid;
      grid-template-columns: 64px minmax(0, 1fr);
      gap: 8px;
      align-items: stretch;
    }

    .time-pill {
      align-self: stretch;
      border-radius: 999px;
      background: rgba(42, 22, 64, 0.9);
      border: 1px solid rgba(139, 92, 246, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 500;
      color: var(--text-muted);
      padding: 4px 0;
    }

    .timeline-card {
      background: linear-gradient(
          135deg,
          rgba(42, 22, 64, 0.96),
          rgba(30, 27, 75, 0.86)
        );
      border-radius: 14px;
      padding: 10px 50px 9px 11px;
      border: 1px solid rgba(139, 92, 246, 0.45);
      display: grid;
      gap: 4px;
      position: relative;
      overflow: hidden;
    }

    .timeline-card.booked {
      border-color: rgba(34, 197, 94, 0.9);
      box-shadow: 0 0 0 1px rgba(22, 163, 74, 0.75);
    }

    .timeline-card::before {
      content: "";
      position: absolute;
      inset: -10%;
      opacity: 0.4;
      background:
        radial-gradient(circle at 0 0, rgba(52, 211, 153, 0.32), transparent 54%),
        radial-gradient(circle at 100% 120%, rgba(34, 197, 94, 0.28), transparent 56%);
      mix-blend-mode: soft-light;
      pointer-events: none;
    }

    .timeline-main {
      position: relative;
      z-index: 1;
      display: flex;
      justify-content: space-between;
      gap: 10px;
      align-items: baseline;
    }

    .timeline-title {
      font-size: 13px;
      font-weight: 550;
    }

    .walk-pill {
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid rgba(139, 92, 246, 0.7);
      color: var(--text-muted);
      background: rgba(42, 22, 64, 0.9);
      white-space: nowrap;
    }

    .timeline-detail {
      position: relative;
      z-index: 1;
      font-size: 12px;
      color: var(--text-muted);
    }

    .choice-grid {
      display: grid;
      gap: 10px;
    }

    @media (min-width: 720px) {
      .choice-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    .choice-card {
      position: relative;
      border-radius: 16px;
      padding: 11px 12px 10px;
      background: radial-gradient(circle at 0 0, rgba(52, 211, 153, 0.15), transparent 50%),
        radial-gradient(circle at 100% 120%, rgba(88, 28, 135, 0.5), transparent 60%),
        linear-gradient(145deg, var(--navy), var(--bg));
      border: 1px solid rgba(139, 92, 246, 0.4);
      box-shadow: 0 14px 30px rgba(26, 10, 40, 0.9);
      overflow: hidden;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .choice-card:hover {
      border-color: rgba(139, 92, 246, 0.6);
      transform: translateY(-2px);
    }

    .choice-card.booked {
      border-color: rgba(34, 197, 94, 0.9);
      box-shadow: 0 0 0 1px rgba(22, 163, 74, 0.75),
        0 18px 40px rgba(22, 163, 74, 0.7);
    }

    .choice-card.booked:hover {
      border-color: rgba(34, 197, 94, 1);
    }

    .star-button {
      position: absolute;
      top: 10px;
      right: 10px;
      border: none;
      background: rgba(42, 22, 64, 0.9);
      border: 1px solid rgba(139, 92, 246, 0.6);
      border-radius: 8px;
      width: 32px;
      height: 32px;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 18px;
      color: var(--text-muted);
      transition: all 0.2s ease;
      z-index: 10;
      display: none;
      pointer-events: none;
    }

    .choice-card.booked .star-button {
      display: flex;
    }

    .star-button.selected {
      background: rgba(22, 163, 74, 0.2);
      border-color: rgba(34, 197, 94, 0.9);
      color: var(--accent-strong);
    }

    .star-button.auto-selected {
      display: flex;
      background: rgba(22, 163, 74, 0.15);
      border-color: rgba(34, 197, 94, 0.7);
      color: var(--accent-strong);
      cursor: default;
    }

    .choice-tag-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-bottom: 6px;
    }

    .choice-tag {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--text-muted);
    }

    .booked-badge {
      font-size: 10px;
      padding: 2px 8px;
      border-radius: 999px;
      background: rgba(22, 163, 74, 0.18);
      border: 1px solid rgba(34, 197, 94, 0.9);
      color: #bbf7d0;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .booked-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 4px rgba(22, 163, 74, 0.9);
    }

    .choice-title {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 2px;
    }

    .choice-meta {
      font-size: 12px;
      color: var(--text-muted);
      margin-bottom: 6px;
    }

    .choice-list {
      list-style: none;
      font-size: 12px;
      color: var(--text-muted);
      display: grid;
      gap: 2px;
      margin-bottom: 8px;
    }

    .choice-list li::before {
      content: "‚Ä¢ ";
      color: var(--green-highlight);
      margin-right: 2px;
    }

    .choice-cta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-top: 4px;
    }

    .choice-checkbox-row {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      color: var(--text-muted);
    }

    .choice-checkbox {
      width: 14px;
      height: 14px;
      border-radius: 4px;
      border: 1px solid rgba(139, 92, 246, 0.8);
      appearance: none;
      background: rgba(42, 22, 64, 0.95);
      cursor: pointer;
      display: inline-block;
      position: relative;
    }

    .choice-checkbox:checked {
      background: var(--accent-strong);
      border-color: var(--accent-strong);
      box-shadow: 0 0 0 1px rgba(22, 163, 74, 0.3);
    }

    .choice-checkbox:checked::after {
      content: "";
      position: absolute;
      inset: 3px;
      border-radius: 2px;
      border: 2px solid #022c22;
      border-top: none;
      border-right: none;
      transform: rotate(-45deg);
    }

    .choice-note {
      font-size: 11px;
      color: #e5e7eb;
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(42, 22, 64, 0.95);
      border: 1px solid rgba(139, 92, 246, 0.5);
    }

    .note-soft {
      font-size: 11px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .pill {
      font-size: 11px;
      padding: 3px 9px;
      border-radius: 999px;
      background: rgba(42, 22, 64, 0.9);
      border: 1px solid rgba(139, 92, 246, 0.4);
      color: var(--text-muted);
    }

    .pill.accent {
      background: rgba(52, 211, 153, 0.16);
      border-color: rgba(52, 211, 153, 0.8);
      color: #d1fae5;
    }

    .quick-links {
      display: flex;
      gap: 6px;
      margin-top: 8px;
      flex-wrap: wrap;
    }

    .quick-link {
      font-size: 10px;
      padding: 4px 8px;
      border-radius: 8px;
      background: rgba(42, 22, 64, 0.9);
      border: 1px solid rgba(139, 92, 246, 0.5);
      color: var(--text-muted);
      text-decoration: none;
      transition: all 0.2s ease;
      display: inline-flex;
      align-items: center;
      gap: 3px;
    }

    .quick-link:hover {
      background: rgba(42, 22, 64, 1);
      border-color: rgba(139, 92, 246, 0.8);
      color: var(--text-main);
    }

    .footer-note {
      margin-top: 22px;
      font-size: 11px;
      color: var(--text-muted);
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 8px;
      align-items: center;
    }

    .save-status {
      font-size: 11px;
      color: #c4b5d6;
    }

    .save-status span {
      opacity: 0.65;
    }

    .reset-btn {
      border: none;
      padding: 4px 10px;
      border-radius: var(--radius-pill);
      font-size: 11px;
      background: rgba(42, 22, 64, 0.92);
      color: var(--text-muted);
      border: 1px solid rgba(139, 92, 246, 0.6);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .reset-btn:hover {
      background: rgba(42, 22, 64, 1);
      color: #fee2e2;
      border-color: rgba(248, 113, 113, 0.9);
      box-shadow: 0 0 0 1px rgba(248, 113, 113, 0.5);
    }

    .mini-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: rgba(248, 113, 113, 0.8);
    }

    .print-hint {
      font-size: 11px;
      color: var(--text-muted);
    }

    .print-hint strong {
      color: #e5e7eb;
      font-weight: 500;
    }

    /* Tab Navigation Styles */
    .tab-navigation {
      position: sticky;
      top: 0;
      z-index: 100;
      background: linear-gradient(135deg, #0a0415 0%, #1a0a28 40%, #0f0820 100%);
      border-bottom: 2px solid rgba(139, 92, 246, 0.4);
      margin: -28px -22px 24px;
      padding: 16px 22px 0;
      display: flex;
      gap: 8px;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }

    @media (min-width: 768px) {
      .tab-navigation {
        margin: -32px -32px 24px;
        padding: 20px 32px 0;
        gap: 12px;
      }
    }

    .tab-button {
      position: relative;
      border: none;
      background: rgba(42, 22, 64, 0.6);
      border-radius: 12px 12px 0 0;
      padding: 12px 16px;
      font-size: 13px;
      font-weight: 600;
      color: var(--text-muted);
      cursor: pointer;
      transition: all 0.2s ease;
      white-space: nowrap;
      border: 1px solid rgba(139, 92, 246, 0.3);
      border-bottom: none;
      display: flex;
      align-items: center;
      gap: 6px;
      min-width: fit-content;
    }

    .tab-button:hover {
      background: rgba(42, 22, 64, 0.8);
      color: var(--text-main);
      border-color: rgba(139, 92, 246, 0.5);
    }

    .tab-button.active {
      background: linear-gradient(135deg, rgba(52, 211, 153, 0.15), rgba(88, 28, 135, 0.3));
      border-color: rgba(52, 211, 153, 0.7);
      color: var(--accent);
      box-shadow: 0 -2px 8px rgba(52, 211, 153, 0.2);
    }

    .tab-indicator {
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 999px;
      background: rgba(52, 211, 153, 0.2);
      border: 1px solid rgba(52, 211, 153, 0.5);
      color: var(--accent);
      display: none;
    }

    .tab-button.has-selections .tab-indicator {
      display: inline-flex;
    }

    .tab-panel {
      display: none;
    }

    .tab-panel.active {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(8px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @media print {
      body {
        background: #fff;
        padding: 0;
      }
      .page {
        box-shadow: none;
        border-radius: 0;
        border: none;
      }
      .inner {
        padding: 16px 18px;
      }
      .save-status,
      .reset-btn {
        display: none !important;
      }
      .tab-navigation {
        display: none !important;
      }
      .tab-panel {
        display: block !important;
      }
    }
  </style>
</head>
<body>
  <main class="page">
    <div class="inner">
      <header>
        <div class="left-column">
          <div class="title-block">
            <div class="eyebrow">
              <span class="pill-dot"></span>
              <span>Dec 20-21, 2025 ¬∑ Portland, ME</span>
            </div>
            <h1>35th Birthday Weekend</h1>
            <p class="subtitle">
              Portland awaits. Options selected especially for you! Differentiated by vibes to (hopefully) make choosing easy-peasy!
            </p>
          </div>
          <div class="meta">
            <div class="meta-row">
              <div class="meta-label">Accomidations</div>
              <div class="meta-value">AC Hotel Portland Downtown/Waterfront</div>
            </div>
            <div class="meta-row">
              <div class="meta-label">Goal</div>
              <div class="meta-value">Kicking off your 35th rotation around the sun!</div>
            </div>
            <div class="meta-row">
              <div class="meta-label">How this works</div>
              <div class="meta-value">Below is an interactive itinerary curated just for you (by yours truly). Scope out the options, use the quick links to satisfy your curiosity and get additional details. Simply select what looks good to you and the schedule will update automatically. Come back to this page anytime, it saves your picks automatically. <strong>No login, no fuss.</strong></div>
            </div>
            <div class="meta-row">
              <div class="meta-label">Small Heads Up</div>
              <div class="meta-value">Your girl made some reservations ahead of time to be sure you had the best to choose from. <stonrg>By Friday, December 19th, kindly send her a screenshot of the schedule you'd like so she can adjust accordinly.</stonrg></div>
            </div>
          </div>
          <a href="https://maps.app.goo.gl/qncvtMqeFtQFpso37" target="_blank" rel="noopener" class="map-button">
            <div class="map-button-content">
              <div class="map-button-title">Portland Favorites Map</div>
              <div class="map-button-subtitle">All the spots we've curated ‚Äî food, drinks, shops & more</div>
            </div>
            <div class="map-button-icon">üó∫Ô∏è</div>
          </a>
        </div>
        <div class="right-column">
          <div class="itinerary-summary" id="itinerary-summary">
            <div class="itinerary-summary-title">üî• YOUR WEEKEND</div>
            <ul class="itinerary-list" id="itinerary-list">
              <!-- Dynamically populated -->
            </ul>
          </div>
        </div>
      </header>

      <!-- Tab Navigation -->
      <nav class="tab-navigation">
        <button class="tab-button active" data-tab="heading-out">
          <span>Heading Out</span>
          <span class="tab-indicator">‚úì</span>
        </button>
        <button class="tab-button" data-tab="saturday-night">
          <span>Saturday Night</span>
          <span class="tab-indicator">‚úì</span>
        </button>
        <button class="tab-button" data-tab="sunday-morning">
          <span>Sunday Morning</span>
          <span class="tab-indicator">‚úì</span>
        </button>
        <button class="tab-button" data-tab="heading-home">
          <span>Heading Home</span>
          <span class="tab-indicator">‚úì</span>
        </button>
      </nav>

      <!-- Tab 1: Heading Out -->
      <div class="tab-panel active" data-panel="heading-out">
      <section class="section" id="saturday">
        <!-- Choose Departure Time -->
        <div class="section-header">
          <div class="section-title">Choose Your Departure Time</div>
          <p class="section-subtitle">Pick when you want to hit the road</p>
        </div>
        <div class="choice-grid">
          <article class="choice-card" data-choice-id="depart-10am" data-category="departureTime">
            <button type="button" class="star-button" data-fav-button="departureTime" data-fav-id="depart-10am">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Early Start</span>
            </div>
            <h2 class="choice-title">Leave at 10:00 AM</h2>
            <p class="choice-meta">Early start, more time in Portland</p>
            <ul class="choice-list">
              <li>Arrive in Portland by 12:00 PM</li>
              <li>Extra time before check-in</li>
              <li>Beat the lunch rush</li>
            </ul>
          </article>

          <article class="choice-card" data-choice-id="depart-11am" data-category="departureTime">
            <button type="button" class="star-button" data-fav-button="departureTime" data-fav-id="depart-11am">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Balanced</span>
            </div>
            <h2 class="choice-title">Leave at 11:00 AM</h2>
            <p class="choice-meta">Balanced timing, arrive for lunch</p>
            <ul class="choice-list">
              <li>Arrive in Portland by 1:00 PM</li>
              <li>Perfect for lunch before check-in</li>
              <li>Not too early, not too late</li>
            </ul>
          </article>

          <article class="choice-card" data-choice-id="depart-12pm" data-category="departureTime">
            <button type="button" class="star-button" data-fav-button="departureTime" data-fav-id="depart-12pm">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Sleep In</span>
            </div>
            <h2 class="choice-title">Leave at 12:00 PM</h2>
            <p class="choice-meta">Sleep in, shorter day trip</p>
            <ul class="choice-list">
              <li>Arrive in Portland by 2:00 PM</li>
              <li>Maximize morning relaxation</li>
              <li>Just in time for check-in</li>
            </ul>
          </article>
        </div>

        <!-- Before Check-In Activities -->
        <div class="section-header" style="margin-top:24px;">
          <div class="section-title">Before Check-In Activities</div>
          <p class="section-subtitle">Pick activities to fill your time before 3pm check-in</p>
        </div>
        <div class="choice-grid">
          <article class="choice-card" data-choice-id="sat-before-oldport" data-category="saturdayBeforeCheckin">
            <button type="button" class="star-button" data-fav-button="saturdayBeforeCheckin" data-fav-id="sat-before-oldport">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Wander & Drinks</span>
            </div>
            <h2 class="choice-title">Explore Old Port + Novel Cocktail Bar</h2>
            <p class="choice-meta">Wander the district, warm up with cocktails</p>
            <ul class="choice-list">
              <li>Wander the Old Port district</li>
              <li>Warm up with cocktails at Novel</li>
              <li>See the lobster trap trees</li>
            </ul>
            <div class="quick-links">
              <a href="https://maps.app.goo.gl/TMwTqYxuPjjMQEmZA" class="quick-link" target="_blank" rel="noopener">üìç Old Port</a>
              <a href="https://maps.app.goo.gl/g6gTPQq5osMav4WB7" class="quick-link" target="_blank" rel="noopener">üìç Novel</a>
              <a href="https://www.novelmaine.com/" class="quick-link" target="_blank" rel="noopener">üåê Novel Website</a>
              <a href="https://92moose.fm/lobster-trap-christmas-trees-maine/" class="quick-link" target="_blank" rel="noopener">üåê About Trees</a>
            </div>
          </article>

          <article class="choice-card" data-choice-id="sat-before-baths" data-category="saturdayBeforeCheckin">
            <button type="button" class="star-button" data-fav-button="saturdayBeforeCheckin" data-fav-id="sat-before-baths">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Relax & Recharge</span>
            </div>
            <h2 class="choice-title">Washington Baths</h2>
            <p class="choice-meta">$36/person ¬∑ No time limit</p>
            <ul class="choice-list">
              <li>Arrive early for ultimate relaxation</li>
              <li>Sauna, cold plunge, hot pool</li>
              <li>Saturday hours: 12pm-9pm</li>
              <li>Bring: bathing suit, towel, sandals</li>
            </ul>
            <div class="quick-links">
              <a href="https://maps.app.goo.gl/f2xBGmGCVoqZvhFN9" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
              <a href="https://washingtonbaths.com/" class="quick-link" target="_blank" rel="noopener">üåê Website</a>
              <a href="https://washingtonbaths.com/faq.html" class="quick-link" target="_blank" rel="noopener">üåê FAQs</a>
            </div>
          </article>

          <article class="choice-card" data-choice-id="sat-before-mansion" data-category="saturdayBeforeCheckin">
            <button type="button" class="star-button" data-fav-button="saturdayBeforeCheckin" data-fav-id="sat-before-mansion">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Museum & History</span>
            </div>
            <h2 class="choice-title">Victoria Mansion</h2>
            <p class="choice-meta">Victorian-era house museum</p>
            <ul class="choice-list">
              <li>Stunning Victorian architecture</li>
              <li>Holiday decor tour</li>
              <li>Perfect for history buffs (1-1.5 hours)</li>
            </ul>
            <div class="quick-links">
              <a href="https://maps.app.goo.gl/EnE277KkfbquWMmN7" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
              <a href="https://victoriamansion.org/" class="quick-link" target="_blank" rel="noopener">üåê Website</a>
              <a href="https://victoriamansion.org/visit-us/" class="quick-link" target="_blank" rel="noopener">üéüÔ∏è Tickets</a>
            </div>
          </article>
        </div>
      </section>
      </div>

     <!-- Tab 2: Saturday Night -->
<div class="tab-panel" data-panel="saturday-night">
  <section class="section">
    <!-- Check-In -->
    <div class="section-header">
      <div class="section-title">3:00 PM - Check-In</div>
    </div>
    <div class="choice-grid" style="grid-template-columns: 1fr;">
      <article class="choice-card" data-choice-id="sat-checkin" data-category="saturdayCheckIn">
        <button type="button" class="star-button" data-fav-button="saturdayCheckIn" data-fav-id="sat-checkin">‚òÜ</button>
        <div class="choice-tag-row">
          <span class="choice-tag">Recommended</span>
        </div>
        <h2 class="choice-title">Check-In ‚òÖ</h2>
        <p class="choice-meta">AC Hotel Portland Downtown/Waterfront</p>
        <ul class="choice-list">
          <li>Drop bags, check out harbor views</li>
          <li>Settle in and get comfortable</li>
        </ul>
        <div class="quick-links">
          <a href="https://maps.app.goo.gl/qncvtMqeFtQFpso37" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
        </div>
      </article>
    </div>

    <!-- Freshen Up -->
    <div class="section-header" style="margin-top:24px;">
      <div class="section-title">4:30 PM - Freshen Up</div>
    </div>
    <div class="choice-grid" style="grid-template-columns: 1fr;">
      <article class="choice-card" data-choice-id="sat-freshen" data-category="saturdayFreshenUp">
        <button type="button" class="star-button" data-fav-button="saturdayFreshenUp" data-fav-id="sat-freshen">‚òÜ</button>
        <div class="choice-tag-row">
          <span class="choice-tag">Get Ready</span>
        </div>
        <h2 class="choice-title">Freshen Up</h2>
        <p class="choice-meta">Get ready for dinner</p>
        <ul class="choice-list">
          <li>Change and refresh</li>
          <li>Perfect timing before evening plans</li>
        </ul>
      </article>
    </div>
  </section>

  <section class="section">
    <!-- Fixed Evening Schedule -->
    <div class="section-header">
      <div class="section-title">Saturday Night</div>
    </div>
    <div class="timeline">
      <div class="timeline-row">
        <div class="time-pill">4:30</div>
        <div class="timeline-card">
          <div class="timeline-main">
            <div class="timeline-title">Freshen Up and a Pre-Dinner Drink</div>
          </div>
          <p class="timeline-detail">
            Get ready for dinner. Grab a drink at the hotel bar, AC Lounge (waterfront views)¬∑
            <em>If time allows: Stroll waterfront to see lobster trap trees lit up</em>¬∑
          </p>
          <p><strong>‚ö†Ô∏è Reminder: Set fantasy football lineup!</strong></p>
        </div>

        <!-- Explore Old Port card (properly wrapped) -->
        <article class="choice-card" data-choice-id="sat-predrink-oldport" data-category="saturdayPreDinner">
          <div class="choice-tag-row">
            <span class="choice-tag">Explore</span>
          </div>
          <h2 class="choice-title">Explore Old Port</h2>
          <p class="choice-meta">Stroll waterfront, see lobster trap trees lit up</p>
          <ul class="choice-list">
            <li>Evening waterfront walk</li>
            <li>See the holiday lights</li>
            <li>Photo opportunities</li>
          </ul>
          <div class="quick-links">
            <a href="https://maps.app.goo.gl/TMwTqYxuPjjMQEmZA" class="quick-link" target="_blank" rel="noopener">üìç Old Port</a>
            <a href="https://92moose.fm/lobster-trap-christmas-trees-maine/" class="quick-link" target="_blank" rel="noopener">üåê About Trees</a>
          </div>
        </article>
      </div>

      <!-- Optional: Chill in Room card -->
      <article class="choice-card" data-choice-id="sat-predrink-chill" data-category="saturdayPreDinner">
        <button type="button" class="star-button" data-fav-button="saturdayPreDinner" data-fav-id="sat-predrink-chill">‚òÜ</button>
        <div class="choice-tag-row">
          <span class="choice-tag">Relax</span>
        </div>
        <h2 class="choice-title">Chill in Room</h2>
        <p class="choice-meta">Relax before dinner, save energy for the show</p>
        <ul class="choice-list">
          <li>Rest and recharge</li>
          <li>Enjoy the room amenities</li>
          <li>Save energy for later</li>
        </ul>
      </article>
    </div>

    <!-- Dinner -->
    <div class="section-header" style="margin-top:24px;">
      <div class="section-title">5:30 PM - Dinner</div>
    </div>
    <div class="choice-grid" style="grid-template-columns: 1fr;">
      <article class="choice-card" data-choice-id="sat-dinner" data-category="saturdayDinner">
        <button type="button" class="star-button" data-fav-button="saturdayDinner" data-fav-id="sat-dinner">‚òÜ</button>
        <div class="choice-tag-row">
          <span class="choice-tag">Reservation Confirmed</span>
        </div>
        <h2 class="choice-title">Dinner ‚òÖ</h2>
        <p class="choice-meta">Central Provisions (confirmed reservation)</p>
        <ul class="choice-list">
          <li>5 min walk from hotel</li>
          <li>Tapas-style shareables, good cocktails</li>
        </ul>
        <div class="quick-links">
          <a href="https://maps.app.goo.gl/4VLy6RwdtkrGrEvP8" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
          <a href="http://www.central-provisions.com/menus" class="quick-link" target="_blank" rel="noopener">üåê Website</a>
        </div>
      </article>
    </div>

    <!-- Show Options -->
    <div class="section-header" style="margin-top:24px;">
      <div class="section-title">Show Options - Pick Your Entertainment</div>
      <p class="section-subtitle">Choose your evening show</p>
    </div>
    <div class="choice-grid">
      <article class="choice-card" data-choice-id="sat-show-ptf" data-category="saturdayShow">
        <button type="button" class="star-button" data-fav-button="saturdayShow" data-fav-id="sat-show-ptf">‚òÜ</button>
        <div class="choice-tag-row">
          <span class="choice-tag">Reserved</span>
        </div>
        <h2 class="choice-title">Pink Talking Fish at State Theatre ‚òÖ</h2>
        <p class="choice-meta">Doors 7pm ¬∑ Show 8pm ¬∑ 5 min walk from dinner</p>
        <ul class="choice-list">
          <li>Tribute band fusion of Pink Floyd, Talking Heads, Phish</li>
          <li>Reserved tickets</li>
          <li>Close to restaurant</li>
        </ul>
        <div class="quick-links">
          <a href="https://maps.app.goo.gl/yduqxtskCQKXiBSS7" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
          <a href="https://click.email.ticketmaster.com/?qs=0b8e3ecdf60ecfccb3cb93cb65494801d247caec1fe2c925ea24196d5abad4eebc1360df9a6c1843d0c7cc6746467272f01a830c574ab2aa0fcce2bbc9891ea9" class="quick-link" target="_blank" rel="noopener">üéüÔ∏è Tickets</a>
          <a href="https://statetheatreportland.com/events/pink-talking-fish/" class="quick-link" target="_blank" rel="noopener">üåê Event Info</a>
        </div>
      </article>

      <article class="choice-card" data-choice-id="sat-show-blue" data-category="saturdayShow">
        <button type="button" class="star-button" data-fav-button="saturdayShow" data-fav-id="sat-show-blue">‚òÜ</button>
        <div class="choice-tag-row">
          <span class="choice-tag">Live Jazz</span>
        </div>
        <h2 class="choice-title">Blue Portland Maine</h2>
        <p class="choice-meta">Doors 6pm ¬∑ Carl Dimow Jazz Quartet @ 7pm ¬∑ Rot On The Vine @ 9pm</p>
        <ul class="choice-list">
          <li>Pay What You Can at the door, bring cash!</li>
          <li>Intimate live-music bar</li>
          <li>Jazz, folk, and small-venue shows</li>
        </ul>
        <div class="quick-links">
          <a href="https://maps.app.goo.gl/UC4stiNfQf7Ntf7T8" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
          <a href="http://www.blueportlandmaine.org/" class="quick-link" target="_blank" rel="noopener">üåê Website</a>
        </div>
      </article>
    </div>

    <!-- After The Show -->
    <div class="section-header" style="margin-top:24px;">
      <div class="section-title">After The Show</div>
      <p class="section-subtitle">Pick your post-show vibe</p>
    </div>
    <div class="choice-grid">
      <article class="choice-card" data-choice-id="sat-after-hunt" data-category="saturdayAfterShow">
        <button type="button" class="star-button" data-fav-button="saturdayAfterShow" data-fav-id="sat-after-hunt">‚òÜ</button>
        <div class="choice-tag-row">
          <span class="choice-tag">Cocktails & Small Plates</span>
        </div>
        <h2 class="choice-title">Hunt & Alpine</h2>
        <p class="choice-meta">10:30pm Reservation ¬∑ Scandinavian small plates</p>
        <ul class="choice-list">
          <li>Clever cocktails in minimalist space</li>
          <li>Highlights: Bonecrusher, Green Chili Popcorn</li>
          <li>Oysters, Espresso Martini</li>
        </ul>
        <div class="quick-links">
          <a href="https://maps.app.goo.gl/G5WbA7GazA23xxb79" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
          <a href="http://www.huntandalpineclub.com/" class="quick-link" target="_blank" rel="noopener">üåê Website</a>
          <a href="https://indd.adobe.com/view/a2f6449c-e917-4f42-ac98-4158a9899f4a" class="quick-link" target="_blank" rel="noopener">üåê Menu</a>
        </div>
      </article>

      <article class="choice-card" data-choice-id="sat-after-blyth" data-category="saturdayAfterShow">
        <button type="button" class="star-button" data-fav-button="saturdayAfterShow" data-fav-id="sat-after-blyth">‚òÜ</button>
        <div class="choice-tag-row">
          <span class="choice-tag">Upscale Cocktails</span>
        </div>
        <h2 class="choice-title">Blyth & Burrows</h2>
        <p class="choice-meta">Saturday: 12 PM‚Äì12 AM ¬∑ Maritime theme</p>
        <ul class="choice-list">
          <li>Vintage-inspired cocktail bar</li>
          <li>House cocktails & upscale small plates</li>
          <li>Maritime-themed ambiance</li>
        </ul>
        <div class="quick-links">
          <a href="https://maps.app.goo.gl/5KSA2oB92Ak83nC8A" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
          <a href="https://www.blythandburrows.com/?utm_source=google&utm_medium=mybusiness" class="quick-link" target="_blank" rel="noopener">üåê Website</a>
          <a href="https://www.blythandburrows.com/menu-2/?utm_source=google&utm_medium=mybusiness" class="quick-link" target="_blank" rel="noopener">üåê Menu</a>
        </div>
      </article>

      <article class="choice-card" data-choice-id="sat-after-gritty" data-category="saturdayAfterShow">
        <button type="button" class="star-button" data-fav-button="saturdayAfterShow" data-fav-id="sat-after-gritty">‚òÜ</button>
        <div class="choice-tag-row">
          <span class="choice-tag">Casual Brewpub</span>
        </div>
        <h2 class="choice-title">Gritty McDuff's Brew Pub</h2>
        <p class="choice-meta">Open until ~1am Saturday ¬∑ Old Port classic</p>
        <ul class="choice-list">
          <li>Known for house ales</li>
          <li>Lively but unfussy atmosphere</li>
          <li>Perfect easygoing last stop</li>
        </ul>
        <div class="quick-links">
          <a href="https://maps.app.goo.gl/cHRyAQnnQoQznhEQ6" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
          <a href="https://grittys.com/portland-brew-pub/?utm_source=google&utm_medium=mybusiness" class="quick-link" target="_blank" rel="noopener">üåê Website</a>
        </div>
      </article>

      <article class="choice-card" data-choice-id="sat-after-flask" data-category="saturdayAfterShow">
        <button type="button" class="star-button" data-fav-button="saturdayAfterShow" data-fav-id="sat-after-flask">‚òÜ</button>
        <div class="choice-tag-row">
          <span class="choice-tag">Dancing & Nightlife</span>
        </div>
        <h2 class="choice-title">Flask Lounge</h2>
        <p class="choice-meta">Open until ~1am Saturday ¬∑ High-energy</p>
        <ul class="choice-list">
          <li>Bar and dance club with DJs</li>
          <li>Themed nights and karaoke</li>
          <li>Short walk from State Theatre</li>
        </ul>
        <div class="quick-links">
          <a href="https://maps.app.goo.gl/Xm18wMEehsy1EHEj7" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
          <a href="https://flasklounge.com/" class="quick-link" target="_blank" rel="noopener">üåê Website</a>
          <a href="https://flasklounge.com/event/among-moon-flowers/" class="quick-link" target="_blank" rel="noopener">üéüÔ∏è Dec 20 Event</a>
        </div>
      </article>

      <article class="choice-card" data-choice-id="sat-after-luna" data-category="saturdayAfterShow">
        <button type="button" class="star-button" data-fav-button="saturdayAfterShow" data-fav-id="sat-after-luna">‚òÜ</button>
        <div class="choice-tag-row">
          <span class="choice-tag">Rooftop Views</span>
        </div>
        <h2 class="choice-title">Luna Rooftop Bar</h2>
        <p class="choice-meta">Open until ~11pm Saturday ¬∑ Waterfront views</p


      <!-- Tab 3: Sunday Morning -->
      <div class="tab-panel" data-panel="sunday-morning">
      <section class="section" id="sunday">
        <div class="section-header">
          <div class="section-title">Sunday Schedule</div>
        </div>

        <!-- Optional Early Morning Steam -->
        <div class="section-header" style="margin-top:24px;">
          <div class="section-title">Optional: Early Morning Steam</div>
          <p class="section-subtitle">Washington Baths - Winter Solstice Special</p>
        </div>
        <div class="choice-grid" style="grid-template-columns: 1fr;">
          <article class="choice-card" data-choice-id="sun-early-baths" data-category="sundayEarlyBaths" style="cursor: pointer;">
            <button type="button" class="star-button" data-fav-button="sundayEarlyBaths" data-fav-id="sun-early-baths">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Relax & Recharge</span>
            </div>
            <h2 class="choice-title">Washington Baths (7am-12pm)</h2>
            <p class="choice-meta">$36/person ¬∑ No time limit ¬∑ Closes at noon for rest of year!</p>
            <ul class="choice-list">
              <li>Open 7am-12pm Sunday only (Winter Solstice)</li>
              <li>Sauna, cold plunge, hot pool</li>
              <li>No reservations, all genders welcome</li>
            </ul>
            <div class="quick-links">
              <a href="https://washingtonbaths.com/" class="quick-link" target="_blank" rel="noopener">üåê Website</a>
              <a href="https://washingtonbaths.com/faq.html" class="quick-link" target="_blank" rel="noopener">üåê FAQs</a>
            </div>
          </article>
        </div>

        <!-- Brunch Choice -->
        <div class="section-header" style="margin-top:24px;">
          <div class="section-title">Brunch</div>
          <p class="section-subtitle">Pick your style</p>
        </div>
        <div class="choice-grid">
          <article class="choice-card" data-choice-id="sun-brunch-union" data-category="sundayBrunch">
            <button type="button" class="star-button" data-fav-button="sundayBrunch" data-fav-id="sun-brunch-union">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Classic brunch</span>
            </div>
            <h2 class="choice-title">UNION (Reservation Booked)</h2>
            <p class="choice-meta">10:00am reservation confirmed ¬∑ 3 min walk from hotel</p>
            <ul class="choice-list">
              <li>Good coffee, solid food, no rush</li>
              <li>Walkable from AC Hotel</li>
            </ul>
            <div class="quick-links">
              <a href="https://maps.app.goo.gl/gBATyXPNz5DhrUwL6" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
              <a href="http://www.unionportland.com/" class="quick-link" target="_blank" rel="noopener">üåê Website</a>
              <a href="https://thepresshotel.com/wp-content/uploads/2025/11/Fall-Brunch-Menu-2025-2.pdf" class="quick-link" target="_blank" rel="noopener">üåê Brunch Menu</a>
            </div>
          </article>

          <article class="choice-card" data-choice-id="sun-brunch-juicery" data-category="sundayBrunch">
            <button type="button" class="star-button" data-fav-button="sundayBrunch" data-fav-id="sun-brunch-juicery">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Light & fresh</span>
            </div>
            <h2 class="choice-title">The Juicery</h2>
            <p class="choice-meta">Old Port ¬∑ Health-focused</p>
            <ul class="choice-list">
              <li>Smoothie bowls, avocado toast, fresh juice</li>
              <li>Light & energizing before exploring</li>
              <li>No reservation needed</li>
            </ul>
            <div class="quick-links">
              <a href="https://maps.app.goo.gl/3EM1gDuyW1KoSxS69" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
              <a href="https://juicery.com/locations-and-menus/portland/" class="quick-link" target="_blank" rel="noopener">üåê Website</a>
              <a href="https://orderjuicery.square.site/?location=11ea62fccaf5e5aba1470cc47a2aeaec#TE4ZF5ROZS6QJ6MXOZLSD5MM" class="quick-link" target="_blank" rel="noopener">üåê Order Ahead</a>
            </div>
          </article>

          <article class="choice-card" data-choice-id="sun-brunch-hotsuppa" data-category="sundayBrunch">
            <button type="button" class="star-button" data-fav-button="sundayBrunch" data-fav-id="sun-brunch-hotsuppa">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Comfort food</span>
            </div>
            <h2 class="choice-title">Hot Suppa</h2>
            <p class="choice-meta">Arts District ¬∑ Southern comfort</p>
            <ul class="choice-list">
              <li>Biscuits & gravy, fried chicken & waffles</li>
              <li>Hearty, indulgent brunch</li>
              <li>Worth the wait if there's a line</li>
            </ul>
            <div class="quick-links">
              <a href="https://maps.app.goo.gl/kfFceJcJ9dN79frK8" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
              <a href="https://hotsuppa.com/" class="quick-link" target="_blank" rel="noopener">üåê Website</a>
            </div>
          </article>
        </div>

        <!-- Checkout -->
        <div class="timeline" style="margin-top: 24px;">
          <div class="timeline-row">
            <div class="time-pill">12:00</div>
            <div class="timeline-card">
              <div class="timeline-main">
                <div class="timeline-title">Checkout</div>
              </div>
              <p class="timeline-detail">Pack up, say goodbye to harbor views</p>
            </div>
          </div>
        </div>

        <!-- Sunday Afternoon Choice -->
        <div class="section-header" style="margin-top:24px;">
          <div class="section-title">Sunday Afternoon Options</div>
          <p class="section-subtitle">Pick what sounds good before heading home</p>
        </div>
        <div class="choice-grid">
          <article class="choice-card" data-choice-id="sun-after-pma" data-category="sundayAfternoon">
            <button type="button" class="star-button" data-fav-button="sundayAfternoon" data-fav-id="sun-after-pma">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Film & Art</span>
            </div>
            <h2 class="choice-title">Movie at Portland Museum of Art</h2>
            <p class="choice-meta">Safe (1995) ¬∑ 12:00pm - 2:05pm</p>
            <ul class="choice-list">
              <li>Introduced by Xander Berkeley</li>
              <li>Perfect for a rainy afternoon</li>
            </ul>
            <div class="quick-links">
              <a href="https://maps.app.goo.gl/4mF7G9jUJmg1YL3JA" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
              <a href="https://www.portlandmuseum.org/" class="quick-link" target="_blank" rel="noopener">üåê Museum</a>
              <a href="https://www.portlandmuseum.org/eventscalendar/safe-4" class="quick-link" target="_blank" rel="noopener">üéüÔ∏è Tickets</a>
            </div>
          </article>

          <article class="choice-card" data-choice-id="sun-after-shopping" data-category="sundayAfternoon">
            <button type="button" class="star-button" data-fav-button="sundayAfternoon" data-fav-id="sun-after-shopping">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Wander & Explore</span>
            </div>
            <h2 class="choice-title">Explore Old Port Shopping</h2>
            <p class="choice-meta">Vintage, Menswear, Shoes</p>
            <ul class="choice-list">
              <li>Browse at your own pace</li>
              <li>Last chance photos with lobster trap trees</li>
              <li>Viand Mercantile (food & home goods)</li>
              <li>Portland Dry Goods (vintage clothing)</li>
              <li>David Wood (menswear)</li>
              <li>Joseph's of Portland (shoes & accessories)</li>
              <li>Portland Trading Co (gifts & Maine goods)</li>
              <li>Little Ghost (vintage & antiques)</li>
            </ul>
            <div class="quick-links">
              <a href="https://maps.app.goo.gl/TMwTqYxuPjjMQEmZA" class="quick-link" target="_blank" rel="noopener">üìç Shopping District</a>
            </div>
          </article>

          <article class="choice-card" data-choice-id="sun-after-mansion" data-category="sundayAfternoon">
            <button type="button" class="star-button" data-fav-button="sundayAfternoon" data-fav-id="sun-after-mansion">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Museum & History</span>
            </div>
            <h2 class="choice-title">Victoria Mansion</h2>
            <p class="choice-meta">If you missed it Saturday</p>
            <ul class="choice-list">
              <li>Victorian architecture + holiday decor</li>
              <li>Allow 1-1.5 hours</li>
            </ul>
            <div class="quick-links">
              <a href="https://maps.app.goo.gl/EnE277KkfbquWMmN7" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
              <a href="https://victoriamansion.org/" class="quick-link" target="_blank" rel="noopener">üåê Website</a>
              <a href="https://victoriamansion.org/visit-us/" class="quick-link" target="_blank" rel="noopener">üéüÔ∏è Tickets</a>
            </div>
          </article>
        </div>
      </section>
      </div>

      <!-- Tab 4: Heading Home -->
      <div class="tab-panel" data-panel="heading-home">
      <section class="section" id="for-the-road">
        <div class="section-header">
          <div class="section-title">For The Road</div>
        </div>

        <div class="section-header" style="margin-top:18px;">
          <p class="section-subtitle">Fun Stops for the Way Home</p>
        </div>
        <div class="choice-grid">
          <article class="choice-card" data-choice-id="home-frost" data-category="headingHome">
            <button type="button" class="star-button" data-fav-button="headingHome" data-fav-id="home-frost">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Cannabis Dispensary</span>
            </div>
            <h2 class="choice-title">Frost Factory: One More for the Road</h2>
            <p class="choice-meta">South Portland ¬∑ 10am‚Äì8pm ¬∑ On the way home</p>
            <ul class="choice-list">
              <li>Last chance to grab goodies for the ride home</li>
              <li>Right on the way ‚Äî quick stop, no stress</li>
              <li>Birthday gift for loyalty members (did we mention that already? We're mentioning it again!)</li>
            </ul>
            <div class="quick-links">
              <a href="https://maps.app.goo.gl/D4ik3m1t8gCvXvjn8" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
              <a href="https://thefrostfactory.com/" class="quick-link" target="_blank" rel="noopener">üåê Website</a>
              <a href="https://weedmaps.com/dispensaries/the-frost-factory-2" class="quick-link" target="_blank" rel="noopener">üéüÔ∏è Preorder</a>
            </div>
          </article>

          <article class="choice-card" data-choice-id="home-lighthouse" data-category="headingHome">
            <button type="button" class="star-button" data-fav-button="headingHome" data-fav-id="home-lighthouse">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Scenic Stop</span>
            </div>
            <h2 class="choice-title">Portland Head Light</h2>
            <p class="choice-meta">Cape Elizabeth ¬∑ Iconic lighthouse</p>
            <ul class="choice-list">
              <li>Most photographed lighthouse in Maine</li>
              <li>Short detour for stunning ocean views</li>
              <li>Perfect for a quick photo op</li>
              <li>Fort Williams Park (free to visit)</li>
            </ul>
            <div class="quick-links">
              <a href="https://maps.app.goo.gl/9dY5uEzJxz8Qnfaj9" class="quick-link" target="_blank" rel="noopener">üìç Directions</a>
              <a href="https://portlandheadlight.com/" class="quick-link" target="_blank" rel="noopener">üåê Website</a>
            </div>
          </article>
        </div>

        <div class="section-header" style="margin-top:18px;">
          <div class="section-title">Playlists for the Drive</div>
          <p class="section-subtitle">Pick your road trip soundtrack</p>
        </div>
        <div class="choice-grid">
          <article class="choice-card" data-choice-id="home-playlist-matt" data-category="headingHome">
            <button type="button" class="star-button" data-fav-button="headingHome" data-fav-id="home-playlist-matt">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Spotify Playlist</span>
            </div>
            <h2 class="choice-title">Matt</h2>
            <p class="choice-meta">All the songs that remind Meag of her Honeybadger</p>
            <ul class="choice-list">
              <li>Personal playlist curated with love</li>
            </ul>
            <div class="quick-links">
              <a href="https://open.spotify.com/playlist/3b3sqpWJxPz8CbHDPRbB2i?si=16859a21d59b4af1&pt=a7171679a0353062752bdb80b89b73b0" class="quick-link" target="_blank" rel="noopener">üéµ Play on Spotify</a>
            </div>
          </article>

          <article class="choice-card" data-choice-id="home-playlist-babson" data-category="headingHome">
            <button type="button" class="star-button" data-fav-button="headingHome" data-fav-id="home-playlist-babson">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Spotify Playlist</span>
            </div>
            <h2 class="choice-title">Babson Columbia '25</h2>
            <p class="choice-meta">All the jams from your epic trip to Columbia</p>
            <ul class="choice-list">
              <li>Throwback to good times and great adventures</li>
            </ul>
            <div class="quick-links">
              <a href="https://open.spotify.com/playlist/5DVDPZQa1L4WnzDoPS6feo?si=fb9191444b114842" class="quick-link" target="_blank" rel="noopener">üéµ Play on Spotify</a>
            </div>
          </article>

          <article class="choice-card" data-choice-id="home-playlist-notrap" data-category="headingHome">
            <button type="button" class="star-button" data-fav-button="headingHome" data-fav-id="home-playlist-notrap">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Spotify Playlist</span>
            </div>
            <h2 class="choice-title">Not Rap</h2>
            <p class="choice-meta">The famous playlist you created for Meag early days</p>
            <ul class="choice-list">
              <li>Proof you listened to music other than rap</li>
              <li>Evidence of why your Spotify age is 61</li>
            </ul>
            <div class="quick-links">
              <a href="https://open.spotify.com/playlist/1DVV7dznCQmD4cEcLZsa2G?si=dc93a837709f4719" class="quick-link" target="_blank" rel="noopener">üéµ Play on Spotify</a>
            </div>
          </article>

          <article class="choice-card" data-choice-id="home-playlist-acidjazz" data-category="headingHome">
            <button type="button" class="star-button" data-fav-button="headingHome" data-fav-id="home-playlist-acidjazz">‚òÜ</button>
            <div class="choice-tag-row">
              <span class="choice-tag">Spotify Playlist</span>
            </div>
            <h2 class="choice-title">Acid Jazz</h2>
            <p class="choice-meta">Could there be a list without this?</p>
            <ul class="choice-list">
              <li>The classic, the essential, the inevitable</li>
            </ul>
            <div class="quick-links">
              <a href="https://open.spotify.com/playlist/37i9dQZF1DWXHghfFFOaS6?si=e371f8926fc44b26" class="quick-link" target="_blank" rel="noopener">üéµ Play on Spotify</a>
            </div>
          </article>
        </div>
      </section>
      </div>

      <div class="footer-note">
        <div class="save-status" id="save-status">
          Your picks save automatically in this browser. <span>Come back anytime.</span>
        </div>
        <div style="display:flex; gap:10px; align-items:center;">
          <button class="reset-btn" type="button" id="reset-choices">
            <span class="mini-dot"></span>
            Start over
          </button>
          <div class="print-hint">
            <strong>Note:</strong> You are loved!
          </div>
        </div>
      </div>
    </div>
  </main>

  <script>
    (function () {
      const STORAGE_KEY_PREFIX = "matt-bday-2025-v2-";
      const ACTIVE_TAB_KEY = STORAGE_KEY_PREFIX + "active-tab";

      // Tab switching functionality
      function switchTab(tabName) {
        // Hide all panels
        document.querySelectorAll('.tab-panel').forEach(panel => {
          panel.classList.remove('active');
        });

        // Deactivate all buttons
        document.querySelectorAll('.tab-button').forEach(btn => {
          btn.classList.remove('active');
        });

        // Show selected panel
        const panel = document.querySelector(`[data-panel="${tabName}"]`);
        if (panel) panel.classList.add('active');

        // Activate selected button
        const button = document.querySelector(`[data-tab="${tabName}"]`);
        if (button) button.classList.add('active');

        // Save active tab
        try {
          localStorage.setItem(ACTIVE_TAB_KEY, tabName);
        } catch (e) {
          console.warn("Unable to save active tab", e);
        }
      }

      function updateTabIndicators() {
        // Check each tab for selections
        const tabs = {
          'heading-out': ['departureTime', 'saturdayBeforeCheckin'],
          'saturday-night': ['saturdayCheckIn', 'saturdayFreshenUp', 'saturdayPreDinner', 'saturdayDinner', 'saturdayShow', 'saturdayAfterShow'],
          'sunday-morning': ['sundayEarlyBaths', 'sundayBrunch', 'sundayAfternoon'],
          'heading-home': ['headingHome']
        };

        Object.entries(tabs).forEach(([tabName, categories]) => {
          const button = document.querySelector(`[data-tab="${tabName}"]`);
          if (!button) return;

          const hasSelections = categories.some(category => getSelection(category));
          if (hasSelections) {
            button.classList.add('has-selections');
          } else {
            button.classList.remove('has-selections');
          }
        });
      }

      function initTabs() {
        // Set up tab click handlers
        document.querySelectorAll('.tab-button').forEach(button => {
          button.addEventListener('click', () => {
            const tabName = button.getAttribute('data-tab');
            if (tabName) switchTab(tabName);
          });
        });

        // Restore saved tab or default to first tab
        const savedTab = localStorage.getItem(ACTIVE_TAB_KEY);
        if (savedTab) {
          switchTab(savedTab);
        } else {
          switchTab('heading-out');
        }

        updateTabIndicators();
      }

      function flashSaveStatus() {
        const el = document.getElementById("save-status");
        if (!el) return;
        el.style.opacity = "1";
        el.style.transition = "opacity 0.4s ease";
        setTimeout(() => {
          el.style.opacity = "0.72";
        }, 900);
      }

      function getSelection(category) {
        return localStorage.getItem(STORAGE_KEY_PREFIX + category);
      }

      function getCardTitle(favId) {
        if (!favId) return null;
        const btn = document.querySelector(`[data-fav-id='${favId}']`);
        if (!btn) return null;
        const card = btn.closest('.choice-card');
        if (!card) return null;
        const title = card.querySelector('.choice-title');
        return title ? title.textContent.trim() : null;
      }

      function updateItinerary() {
        const itinerarySummary = document.getElementById("itinerary-summary");
        const itineraryList = document.getElementById("itinerary-list");
        if (!itinerarySummary || !itineraryList) return;

        // Get selections
        const satBefore = getSelection('saturdayBeforeCheckin');
        const satAfter = getSelection('saturdayAfterShow');
        const sunBrunch = getSelection('sundayBrunch');
        const sunAfternoon = getSelection('sundayAfternoon');
        const sunEarly = getSelection('sundayEarlyBaths');

        let html = '';

        // Saturday
        html += '<li class="day-header">SATURDAY</li>';
        html += '<li><span class="itinerary-time">11:00am</span><span class="itinerary-item">Leave Boston</span></li>';

        if (satBefore) {
          const title = getCardTitle(satBefore);
          if (title) html += `<li><span class="itinerary-time">Arrive</span><span class="itinerary-item">‚úì ${title}</span></li>`;
        }

        html += '<li><span class="itinerary-time">3:00pm</span><span class="itinerary-item">Check-in at AC Hotel ‚òÖ</span></li>';
        html += '<li><span class="itinerary-time">4:30pm</span><span class="itinerary-item">Freshen up</span></li>';
        html += '<li><span class="itinerary-time">5:00pm</span><span class="itinerary-item">Pre-dinner drinks at AC Lounge</span></li>';
        html += '<li><span class="itinerary-time">5:30pm</span><span class="itinerary-item">Dinner at Central Provisions ‚òÖ</span></li>';
        html += '<li><span class="itinerary-time">8:00pm</span><span class="itinerary-item">Pink Talking Fish at State Theatre ‚òÖ</span></li>';

        if (satAfter) {
          const title = getCardTitle(satAfter);
          if (title) html += `<li><span class="itinerary-time">After show</span><span class="itinerary-item">‚úì ${title}</span></li>`;
        }

        // Sunday
        html += '<li class="day-header" style="margin-top:16px;">SUNDAY</li>';

        if (sunEarly) {
          html += '<li><span class="itinerary-time">Optional</span><span class="itinerary-item">‚úì Early steam at Washington Baths (7am)</span></li>';
        }

        if (sunBrunch) {
          const title = getCardTitle(sunBrunch);
          const isUnion = sunBrunch.includes('union');
          if (title) html += `<li><span class="itinerary-time">Brunch</span><span class="itinerary-item">‚úì ${title}${isUnion ? ' ‚òÖ' : ''}</span></li>`;
        } else {
          html += '<li><span class="itinerary-time">Brunch</span><span class="itinerary-item">(pick an option below)</span></li>';
        }

        html += '<li><span class="itinerary-time">12:00pm</span><span class="itinerary-item">Checkout</span></li>';

        if (sunAfternoon) {
          const title = getCardTitle(sunAfternoon);
          if (title) html += `<li><span class="itinerary-time">Afternoon</span><span class="itinerary-item">‚úì ${title}</span></li>`;
        }

        // For the Road
        html += '<li class="day-header" style="margin-top:16px;">FOR THE ROAD</li>';
        html += '<li><span class="itinerary-time">üåø</span><span class="itinerary-item">Frost Factory stop</span></li>';
        html += '<li><span class="itinerary-time">üéµ</span><span class="itinerary-item">4 playlists ready</span></li>';

        itineraryList.innerHTML = html;
        itinerarySummary.classList.add('has-items');
      }

      function applyFavorite(category, favId) {
        // Remove highlight and unselect stars from all cards in this category
        document.querySelectorAll(`[data-fav-button='${category}']`).forEach((btn) => {
          const card = btn.closest('.choice-card');
          if (card) card.classList.remove("booked");
          btn.textContent = "‚òÜ";
          btn.classList.remove("selected");
        });

        if (!favId) {
          updateItinerary();
          updateTabIndicators();
          return;
        }

        // Add highlight to selected card and fill star
        const selectedBtn = document.querySelector(`[data-fav-button='${category}'][data-fav-id='${favId}']`);
        if (selectedBtn) {
          const card = selectedBtn.closest('.choice-card');
          if (card) card.classList.add("booked");
          selectedBtn.textContent = "‚òÖ";
          selectedBtn.classList.add("selected");
        }
        updateItinerary();
        updateTabIndicators();
      }

      function resetAll() {
        const categories = [
          'departureTime', 'saturdayBeforeCheckin',
          'saturdayCheckIn', 'saturdayFreshenUp', 'saturdayPreDinner', 'saturdayDinner', 'saturdayShow', 'saturdayAfterShow',
          'sundayEarlyBaths', 'sundayBrunch', 'sundayAfternoon',
          'headingHome'
        ];
        categories.forEach(category => {
          localStorage.removeItem(STORAGE_KEY_PREFIX + category);
          applyFavorite(category, null);
        });
        flashSaveStatus();
      }

      function initSelections() {
        // Load saved selections
        const categories = [
          'departureTime', 'saturdayBeforeCheckin',
          'saturdayCheckIn', 'saturdayFreshenUp', 'saturdayPreDinner', 'saturdayDinner', 'saturdayShow', 'saturdayAfterShow',
          'sundayEarlyBaths', 'sundayBrunch', 'sundayAfternoon',
          'headingHome'
        ];
        categories.forEach(category => {
          const saved = getSelection(category);
          if (saved) applyFavorite(category, saved);
        });

        // Set up card click handlers
        document.querySelectorAll(".choice-card").forEach((card) => {
          const btn = card.querySelector("[data-fav-button]");
          if (!btn) return;

          card.addEventListener("click", (e) => {
            // Don't trigger if clicking on a link
            if (e.target.tagName === 'A' || e.target.closest('a')) return;

            const category = btn.getAttribute("data-fav-button");
            const id = btn.getAttribute("data-fav-id");
            if (!category || !id) return;

            const currentFav = getSelection(category);

            try {
              if (currentFav === id) {
                // Unselect if clicking the same item
                localStorage.removeItem(STORAGE_KEY_PREFIX + category);
                applyFavorite(category, null);
              } else {
                // Select new item
                localStorage.setItem(STORAGE_KEY_PREFIX + category, id);
                applyFavorite(category, id);
              }
              flashSaveStatus();
            } catch (e) {
              console.warn("Unable to save selection", e);
            }
          });
        });
      }

      document.addEventListener("DOMContentLoaded", () => {
        initTabs();
        initSelections();
        updateItinerary();

        const resetBtn = document.getElementById("reset-choices");
        if (resetBtn) {
          resetBtn.addEventListener("click", () => {
            if (confirm("Start over? This will clear all your picks.")) {
              resetAll();
            }
          });
        }
      });
    })();
  </script>
</body>
</html>
